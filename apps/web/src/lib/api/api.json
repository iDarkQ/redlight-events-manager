{"openapi":"3.0.0","paths":{"/user/signUp":{"post":{"operationId":"UserController_signUp","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"200":{"description":"JWT Token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JwtTokenResponse"}}}},"409":{"description":"User already exists"}},"tags":["User"]}},"/user/signIn":{"post":{"operationId":"UserController_signIn","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginUserDto"}}}},"responses":{"200":{"description":"JWT Token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JwtTokenResponse"}}}},"401":{"description":"Wrong Password"},"404":{"description":"User with this email does not exist"}},"tags":["User"]}},"/user/auth":{"post":{"operationId":"UserController_authorize","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorizeUserDto"}}}},"responses":{"200":{"description":"Returns user object","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}},"401":{"description":"Could not authorize your session"},"404":{"description":"User does not exists"}},"tags":["User"]}},"/event":{"post":{"operationId":"EventController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEventRequestDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventDto"}}}}},"security":[{"bearer":[]}],"tags":["Event"]},"get":{"operationId":"EventController_findAll","parameters":[],"responses":{"200":{"description":"Returns all events","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EventDto"}}}}}},"tags":["Event"]}},"/event/{id}":{"get":{"operationId":"EventController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"tags":["Event"]},"put":{"operationId":"EventController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateEventDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventDto"}}}}},"security":[{"bearer":[]}],"tags":["Event"]},"delete":{"operationId":"EventController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully deleted record"}},"tags":["Event"]}},"/event/join/{id}":{"patch":{"operationId":"EventController_join","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventDto"}}}}},"security":[{"bearer":[]}],"tags":["Event"]}},"/event/leave/{id}":{"patch":{"operationId":"EventController_leave","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"userId","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventDto"}}}}},"security":[{"bearer":[]}],"tags":["Event"]}}},"info":{"title":"Redlight Events Manager","description":"The API used for handling sport events at redlight","version":"1.0","contact":{}},"tags":[{"name":"download","description":""}],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"CreateUserDto":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string","format":"email"},"password":{"type":"string"},"birthday":{"format":"date-time","type":"string"}},"required":["name","email","password","birthday"]},"JwtTokenResponse":{"type":"object","properties":{"token":{"type":"string"}},"required":["token"]},"LoginUserDto":{"type":"object","properties":{"email":{"type":"string","format":"email"},"password":{"type":"string"}},"required":["email","password"]},"AuthorizeUserDto":{"type":"object","properties":{"token":{"type":"string"}},"required":["token"]},"UserDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier of the user","example":"ckv9p34s50000svef8bl7w2gb"},"name":{"type":"string","description":"Name of the user","example":"John Doe"},"email":{"type":"string","description":"Email address of the user","example":"john.doe@example.com","format":"email"},"role":{"type":"string","description":"Role of the user","example":"admin"},"profile":{"type":"string","description":"Profile description or URL of the user","example":"https://example.com/profile/johndoe"},"birthday":{"format":"date-time","type":"string","description":"Birthday of the user","example":"1990-01-01T00:00:00.000Z"}},"required":["id","name","email","role","profile","birthday"]},"CreateEventRequestDto":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"date":{"format":"date-time","type":"string"},"type":{"type":"string"},"maxParticipants":{"type":"number"},"latitude":{"type":"number"},"longitude":{"type":"number"},"location":{"type":"string"}},"required":["title","description","date","type","maxParticipants","latitude","longitude","location"]},"ParticipantDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier of the participant","example":"user1"},"name":{"type":"string","description":"Name of the participant","example":"Alice"}},"required":["id","name"]},"EventStatus":{"type":"string","enum":["PLANNED","COMPLETED","CANCELLED"],"description":"Status of the event"},"EventDto":{"type":"object","properties":{"participants":{"example":[{"id":"user1","name":"Alice"},{"id":"user2","name":"Bob"}],"type":"array","items":{"$ref":"#/components/schemas/ParticipantDto"}},"status":{"description":"Status of the event","example":"PLANNED","allOf":[{"$ref":"#/components/schemas/EventStatus"}]},"id":{"type":"string","description":"Unique identifier of the event","example":"ckv9p34s50000svef8bl7w2gb"},"title":{"type":"string","description":"Title of the event","example":"Annual Meetup"},"description":{"type":"string","description":"Description of the event","example":"A gathering for all members."},"createdAt":{"format":"date-time","type":"string","description":"Date when the event was created","example":"2024-06-25T12:00:00.000Z"},"date":{"format":"date-time","type":"string","description":"Date of the event","example":"2024-07-01T18:00:00.000Z"},"type":{"type":"string","description":"Type of the event","example":"MEETING"},"maxParticipants":{"type":"number","description":"Maximum number of participants","example":100},"creatorId":{"type":"string","description":"ID of the event creator","example":"user1"},"longitude":{"type":"number","description":"Longitude of the event location","example":19.9449799},"latitude":{"type":"number","description":"Latitude of the event location","example":50.0646501},"location":{"type":"string","description":"Name of the event location"}},"required":["participants","status","id","title","description","createdAt","date","type","maxParticipants","creatorId","longitude","latitude","location"]},"UpdateEventDto":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"date":{"format":"date-time","type":"string"},"type":{"type":"string"},"maxParticipants":{"type":"number"},"latitude":{"type":"number"},"longitude":{"type":"number"},"location":{"type":"string"}}}}}}